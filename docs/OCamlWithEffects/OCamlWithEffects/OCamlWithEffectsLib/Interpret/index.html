<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Interpret (OCamlWithEffects.OCamlWithEffectsLib.Interpret)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">OCamlWithEffects</a> &#x00BB; <a href="../index.html">OCamlWithEffectsLib</a> &#x00BB; Interpret</nav><header class="odoc-preamble"><h1>Module <code><span>OCamlWithEffectsLib.Interpret</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module-type" id="module-type-MONAD_FAIL" class="anchored"><a href="#module-type-MONAD_FAIL" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-MONAD_FAIL/index.html">MONAD_FAIL</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-rec_flag" class="anchored"><a href="#type-rec_flag" class="anchor"></a><code><span><span class="keyword">type</span> rec_flag</span><span> = </span></code><table><tr id="type-rec_flag.Recursive" class="anchored"><td class="def variant constructor"><a href="#type-rec_flag.Recursive" class="anchor"></a><code><span>| </span><span><span class="constructor">Recursive</span></span></code></td></tr><tr id="type-rec_flag.NonRecursive" class="anchored"><td class="def variant constructor"><a href="#type-rec_flag.NonRecursive" class="anchor"></a><code><span>| </span><span><span class="constructor">NonRecursive</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-environment" class="anchored"><a href="#type-environment" class="anchor"></a><code><span><span class="keyword">type</span> environment</span><span> = </span><span>{</span></code><table><tr id="type-environment.ids" class="anchored"><td class="def record field"><a href="#type-environment.ids" class="anchor"></a><code><span>ids : <span><span>( <a href="../Ast/index.html#type-id">Ast.id</a>, <a href="#type-value">value</a>, <span class="xref-unresolved">Base</span>.String.comparator_witness )</span> <span class="xref-unresolved">Base</span>.Map.t</span>;</span></code></td></tr><tr id="type-environment.effects" class="anchored"><td class="def record field"><a href="#type-environment.effects" class="anchor"></a><code><span>effects : <span><span>( <a href="../Ast/index.html#type-capitalized_id">Ast.capitalized_id</a>, <span class="xref-unresolved">Base</span>.String.comparator_witness )</span> <span class="xref-unresolved">Base</span>.Set.t</span>;</span></code></td></tr><tr id="type-environment.effect_handlers" class="anchored"><td class="def record field"><a href="#type-environment.effect_handlers" class="anchor"></a><code><span>effect_handlers : <span><span>( <a href="../Ast/index.html#type-capitalized_id">Ast.capitalized_id</a>,
                    <a href="../Ast/index.html#type-expression">Ast.expression</a>,
                    <span class="xref-unresolved">Base</span>.String.comparator_witness )</span>
                    <span class="xref-unresolved">Base</span>.Map.t</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-value" class="anchored"><a href="#type-value" class="anchor"></a><code><span><span class="keyword">and</span> value</span><span> = </span></code><table><tr id="type-value.VInt" class="anchored"><td class="def variant constructor"><a href="#type-value.VInt" class="anchor"></a><code><span>| </span><span><span class="constructor">VInt</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>5</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VString" class="anchored"><td class="def variant constructor"><a href="#type-value.VString" class="anchor"></a><code><span>| </span><span><span class="constructor">VString</span> <span class="keyword">of</span> string</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>&quot;apple&quot;</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VBool" class="anchored"><td class="def variant constructor"><a href="#type-value.VBool" class="anchor"></a><code><span>| </span><span><span class="constructor">VBool</span> <span class="keyword">of</span> bool</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>true</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VChar" class="anchored"><td class="def variant constructor"><a href="#type-value.VChar" class="anchor"></a><code><span>| </span><span><span class="constructor">VChar</span> <span class="keyword">of</span> char</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>'a'</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VUnit" class="anchored"><td class="def variant constructor"><a href="#type-value.VUnit" class="anchor"></a><code><span>| </span><span><span class="constructor">VUnit</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>()</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VList" class="anchored"><td class="def variant constructor"><a href="#type-value.VList" class="anchor"></a><code><span>| </span><span><span class="constructor">VList</span> <span class="keyword">of</span> <span><a href="#type-value">value</a> list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p><code>1; 2; 3</code></p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VTuple" class="anchored"><td class="def variant constructor"><a href="#type-value.VTuple" class="anchor"></a><code><span>| </span><span><span class="constructor">VTuple</span> <span class="keyword">of</span> <span><a href="#type-value">value</a> list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>(&quot;abc&quot;, 123, false)</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VFun" class="anchored"><td class="def variant constructor"><a href="#type-value.VFun" class="anchor"></a><code><span>| </span><span><span class="constructor">VFun</span> <span class="keyword">of</span> <span><a href="../Ast/index.html#type-id">Ast.id</a> list</span> * <a href="../Ast/index.html#type-expression">Ast.expression</a> * <a href="#type-environment">environment</a> * <a href="#type-rec_flag">rec_flag</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>fun x -&gt; x * x</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VADT" class="anchored"><td class="def variant constructor"><a href="#type-value.VADT" class="anchor"></a><code><span>| </span><span><span class="constructor">VADT</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-data_constructor_name">Ast.data_constructor_name</a> * <span><a href="#type-value">value</a> option</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Some 100</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VEffectNoArg" class="anchored"><td class="def variant constructor"><a href="#type-value.VEffectNoArg" class="anchor"></a><code><span>| </span><span><span class="constructor">VEffectNoArg</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-id">Ast.id</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>EmptyListEffect</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VEffectArg" class="anchored"><td class="def variant constructor"><a href="#type-value.VEffectArg" class="anchor"></a><code><span>| </span><span><span class="constructor">VEffectArg</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-id">Ast.id</a> * <a href="../Ast/index.html#type-expression">Ast.expression</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>E 0</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VEffectDeclaration" class="anchored"><td class="def variant constructor"><a href="#type-value.VEffectDeclaration" class="anchor"></a><code><span>| </span><span><span class="constructor">VEffectDeclaration</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-id">Ast.id</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>effect SmallDiscount : int -&gt; int effect</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VEffectPattern" class="anchored"><td class="def variant constructor"><a href="#type-value.VEffectPattern" class="anchor"></a><code><span>| </span><span><span class="constructor">VEffectPattern</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-expression">Ast.expression</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>| effect EmptyListEffect -&gt; ...</p><span class="comment-delim">*)</span></td></tr><tr id="type-value.VEffectHandler" class="anchored"><td class="def variant constructor"><a href="#type-value.VEffectHandler" class="anchor"></a><code><span>| </span><span><span class="constructor">VEffectHandler</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-id">Ast.id</a> * <a href="#type-value">value</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-error" class="anchored"><a href="#type-error" class="anchor"></a><code><span><span class="keyword">type</span> error</span><span> = </span></code><table><tr id="type-error.UnboundValue" class="anchored"><td class="def variant constructor"><a href="#type-error.UnboundValue" class="anchor"></a><code><span>| </span><span><span class="constructor">UnboundValue</span> <span class="keyword">of</span> string</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Unbound value</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.UnboundEffect" class="anchored"><td class="def variant constructor"><a href="#type-error.UnboundEffect" class="anchor"></a><code><span>| </span><span><span class="constructor">UnboundEffect</span> <span class="keyword">of</span> string</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Inbound effect</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.Unreachable" class="anchored"><td class="def variant constructor"><a href="#type-error.Unreachable" class="anchor"></a><code><span>| </span><span><span class="constructor">Unreachable</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Unreachable code. If this error is thrown then something went seriously wrong</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.UnsupportedOperation" class="anchored"><td class="def variant constructor"><a href="#type-error.UnsupportedOperation" class="anchor"></a><code><span>| </span><span><span class="constructor">UnsupportedOperation</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Used unsupported operation</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.Division_by_zero" class="anchored"><td class="def variant constructor"><a href="#type-error.Division_by_zero" class="anchor"></a><code><span>| </span><span><span class="constructor">Division_by_zero</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>n / 0</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.NotAFunction" class="anchored"><td class="def variant constructor"><a href="#type-error.NotAFunction" class="anchor"></a><code><span>| </span><span><span class="constructor">NotAFunction</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Unreachable when type inference is used</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.TypeMismatch" class="anchored"><td class="def variant constructor"><a href="#type-error.TypeMismatch" class="anchor"></a><code><span>| </span><span><span class="constructor">TypeMismatch</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Unreachable when type inference is used</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.MisusedWildcard" class="anchored"><td class="def variant constructor"><a href="#type-error.MisusedWildcard" class="anchor"></a><code><span>| </span><span><span class="constructor">MisusedWildcard</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Wildcard is in the right-hand expression</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.NotAnEffect" class="anchored"><td class="def variant constructor"><a href="#type-error.NotAnEffect" class="anchor"></a><code><span>| </span><span><span class="constructor">NotAnEffect</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Perform was applied not to an effect</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.PatternMatchingFailed" class="anchored"><td class="def variant constructor"><a href="#type-error.PatternMatchingFailed" class="anchor"></a><code><span>| </span><span><span class="constructor">PatternMatchingFailed</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The case is not matched</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.NonExhaustivePatternMatching" class="anchored"><td class="def variant constructor"><a href="#type-error.NonExhaustivePatternMatching" class="anchor"></a><code><span>| </span><span><span class="constructor">NonExhaustivePatternMatching</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Pattern-matching is not exhaustive</p><span class="comment-delim">*)</span></td></tr><tr id="type-error.ContinuationFailure" class="anchored"><td class="def variant constructor"><a href="#type-error.ContinuationFailure" class="anchor"></a><code><span>| </span><span><span class="constructor">ContinuationFailure</span> <span class="keyword">of</span> <a href="#type-value">value</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec module" id="module-Environment" class="anchored"><a href="#module-Environment" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Environment/index.html">Environment</a></span><span> (<a href="Environment/argument-1-M/index.html">M</a> : <a href="module-type-MONAD_FAIL/index.html">MONAD_FAIL</a>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Interpret" class="anchored"><a href="#module-Interpret" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Interpret/index.html">Interpret</a></span><span> (<a href="Interpret/argument-1-M/index.html">M</a> : <a href="module-type-MONAD_FAIL/index.html">MONAD_FAIL</a>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-InterpretResult" class="anchored"><a href="#module-InterpretResult" class="anchor"></a><code><span><span class="keyword">module</span> <a href="InterpretResult/index.html">InterpretResult</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-test_program" class="anchored"><a href="#val-test_program" class="anchor"></a><code><span><span class="keyword">val</span> test_program : <span><a href="../Ast/index.html#type-expression">Ast.expression</a> <span class="xref-unresolved">Stdlib</span>.List.t</span></span></code></div></div></div></body></html>